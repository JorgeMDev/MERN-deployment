{"ast":null,"code":"var _jsxFileName = \"/Users/jorgemartinez/Documents/MERN-deployment/client/src/components/RepView.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport moment from 'moment';\nimport Button from '@mui/material/Button';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogActions from '@mui/material/DialogActions';\nimport Textarea from '@mui/joy/Textarea';\nimport { Typography } from '@mui/material';\nimport TextField from '@mui/material/TextField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst RepView = props => {\n  _s();\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [office, setOffice] = useState('');\n  const [comments, setComments] = useState([]);\n  const [commentText, setCommentText] = useState('');\n  const [custId, setCustId] = useState('');\n  const [userEmail, SetUserEmail] = useState('');\n  const [searchInput, setSearchInput] = useState('');\n  const navigate = useNavigate();\n  let newComment = ''; //Customers filtered by Rep\n\n  const repList = props.customers.filter(eachCust => eachCust.user.firstName == props.userFirstName && eachCust.status == 'In verification');\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = id => {\n    axios.get(process.env.REACT_APP_API_URL + `/api/customer/${id}`, {\n      withCredentials: true\n    }).then(response => {\n      console.log(response.data);\n      setFirstName(response.data.firstName);\n      setLastName(response.data.lastName);\n      setOffice(response.data.office);\n      setComments(response.data.comments);\n      setCustId(id);\n    }).catch(err => {\n      console.log(err.response);\n    });\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleNewComment = e => {\n    e.preventDefault();\n    console.log(newComment);\n    newComment = 'Rep: ' + commentText;\n    axios.post(process.env.REACT_APP_API_URL + `/api/${custId}/comment`, {\n      newComment\n    }, {\n      withCredentials: true\n    }).then(response => {\n      console.log(response.data);\n      setOpen(false);\n      props.onNewComment();\n    }).catch(err => console.log(err));\n  };\n\n  const handleChange = event => {\n    setCommentText(event.target.value);\n  }; // Function to filter data by month\n\n\n  const handleFilterByMonth = customers => {\n    props.onFilterByMonth(customers);\n  }; //block of code to filter by name, lastname, email. status, office\n\n\n  const keys = ['firstName', 'lastName', 'email', 'status', 'office'];\n\n  const search = customersData => {\n    return customersData.filter(item => keys.some(key => item[key].toLowerCase().includes(searchInput.toLocaleLowerCase())));\n  };\n\n  const searchList = search(repList);\n  let totalRevenue = 0;\n  repList.map((eachCust, i) => totalRevenue += eachCust.price);\n  let totalRev = totalRevenue.toLocaleString('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Customers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      style: {\n        justifyContent: \"space-around\",\n        alignItems: 'center',\n        display: 'flex',\n        margin: 5,\n        gap: 5\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        children: [\"Revenue: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: \"green\"\n          },\n          children: totalRev\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: () => handleFilterByMonth(searchList),\n        variant: \"outlined\",\n        children: \"This Month Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        type: \"text\",\n        label: \"Search\",\n        size: \"small\",\n        onChange: e => setSearchInput(e.target.value),\n        value: searchInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              sx: {\n                minWidth: 70\n              },\n              children: \"Date of Sale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Office\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Rep\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Customer name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Coap\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Coap Phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Approval\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Bank\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Payments / Interest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"DOI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Installer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Latest Comment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Updated at\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: repList.map((eachCust, i) => {\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: moment(eachCust.dos).format('MMM DD, YY')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.office\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [eachCust.user.firstName, \" \", eachCust.user.lastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [eachCust.firstName, \" \", eachCust.lastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.phone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [\"$\", eachCust.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [eachCust.coapFirstName, \" \", eachCust.coapLastName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.CoapPhone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.approval\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.bank\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.paymentPlan\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: moment(eachCust.doi).format('MMM DD, YY')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.installer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"info\",\n                  onClick: () => handleOpen(eachCust._id),\n                  children: \"View Comments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: eachCust.comments.length !== 0 ? eachCust.comments[eachCust.comments.length - 1].text : 'No comments'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: moment(eachCust.updatedAt).format('dddd LT MM/DD/YY')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 15\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 13\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Dialog, {\n        open: open,\n        onClose: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: [\"Customer: \", firstName, \" \", lastName, \" - Office:\", office, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: comments.map((comment, i) => /*#__PURE__*/_jsxDEV(DialogContentText, {\n            children: [moment(comment.timestamp).format('MMM DD, YY, hh:mm a'), \": \", comment.text, \" \"]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n          sx: {\n            minWidth: 400,\n            margin: 2\n          },\n          minRows: 2,\n          onChange: handleChange,\n          placeholder: \"Add comment here..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            maxWidth: 200\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            sx: {\n              margin: 2\n            },\n            size: \"small\",\n            variant: \"outlined\",\n            onClick: handleNewComment,\n            children: \"Add Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            color: \"primary\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n\n_s(RepView, \"HkTlWxWcEiDja+nAiyr9Au4hAUg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = RepView;\nexport default RepView;\n\nvar _c;\n\n$RefreshReg$(_c, \"RepView\");","map":{"version":3,"names":["React","useState","axios","useNavigate","moment","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Box","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Textarea","Typography","TextField","RepView","props","firstName","setFirstName","lastName","setLastName","office","setOffice","comments","setComments","commentText","setCommentText","custId","setCustId","userEmail","SetUserEmail","searchInput","setSearchInput","navigate","newComment","repList","customers","filter","eachCust","user","userFirstName","status","open","setOpen","handleOpen","id","get","process","env","REACT_APP_API_URL","withCredentials","then","response","console","log","data","catch","err","handleClose","handleNewComment","e","preventDefault","post","onNewComment","handleChange","event","target","value","handleFilterByMonth","onFilterByMonth","keys","search","customersData","item","some","key","toLowerCase","includes","toLocaleLowerCase","searchList","totalRevenue","map","i","price","totalRev","toLocaleString","style","currency","justifyContent","alignItems","display","margin","gap","color","minWidth","dos","format","phone","coapFirstName","coapLastName","CoapPhone","address","approval","bank","paymentPlan","doi","installer","_id","length","text","updatedAt","comment","timestamp","maxWidth"],"sources":["/Users/jorgemartinez/Documents/MERN-deployment/client/src/components/RepView.jsx"],"sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport { useNavigate } from 'react-router-dom'\nimport moment from 'moment'\nimport Button from '@mui/material/Button'\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box'\nimport Dialog from '@mui/material/Dialog';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogActions from '@mui/material/DialogActions';\nimport Textarea from '@mui/joy/Textarea';\nimport { Typography } from '@mui/material'\nimport TextField from '@mui/material/TextField'\n\nconst RepView = (props) => {\n    const [firstName, setFirstName] = useState('')\n    const [lastName, setLastName] = useState('')\n    const [office, setOffice] = useState('')\n    const [comments, setComments] = useState([])\n    const [commentText, setCommentText] = useState('')\n    const [custId, setCustId] = useState('')\n    const [userEmail, SetUserEmail] = useState('')\n    const [searchInput, setSearchInput] = useState('');\n\n    const navigate = useNavigate()\n\n    let newComment = ''\n\n\n\n    //Customers filtered by Rep\n    const repList = props.customers.filter((eachCust)=>eachCust.user.firstName == props.userFirstName && eachCust.status == 'In verification')\n\n    const [open, setOpen] = useState(false);\n\n    const handleOpen = (id) => {\n\n\n        axios.get(process.env.REACT_APP_API_URL+`/api/customer/${id}`, {withCredentials: true})\n        .then(response=>{\n        console.log(response.data)\n        setFirstName(response.data.firstName)\n        setLastName(response.data.lastName)\n        setOffice(response.data.office)\n        setComments(response.data.comments)\n        setCustId(id)\n    \n      })\n      .catch(err=>{\n        console.log(err.response)\n      })\n\n      setOpen(true);\n    };\n  \n    const handleClose = () => {\n      setOpen(false);\n    };\n    \n   \n\n    const handleNewComment = (e) => {\n        e.preventDefault()\n        console.log(newComment)\n\n        newComment = 'Rep: ' + commentText\n       \n\n        axios.post(process.env.REACT_APP_API_URL + `/api/${custId}/comment`, {newComment}, {withCredentials:true})\n        .then(response=>{\n          console.log(response.data)\n          setOpen(false);\n          props.onNewComment()\n       \n        })\n        .catch(err=>console.log(err))\n    }\n\n\n    const handleChange = (event) => {\n      \n        setCommentText(event.target.value)\n\n       \n        \n \n    }\n\n   \n\n\n\n \n   // Function to filter data by month\n\n   const handleFilterByMonth = (customers) => {\n    props.onFilterByMonth(customers)\n\n   }\n   \n\n  //block of code to filter by name, lastname, email. status, office\n  const keys = ['firstName', 'lastName','email', 'status','office'];\n\n  const search = (customersData) => {\n    \n    return customersData.filter((item) => keys.some((key) => item[key].toLowerCase().includes(searchInput.toLocaleLowerCase())))\n  }\n  const searchList = search(repList)\n\n  let totalRevenue = 0\n  repList.map((eachCust, i)=> totalRevenue+= eachCust.price)\n  let totalRev = totalRevenue.toLocaleString('en-US', { style: 'currency', currency: 'USD' })\n\n\n\n\n  return (\n    <div>\n      <h1>Customers</h1>\n      <Box style={{justifyContent: \"space-around\", alignItems:'center', display: 'flex', margin: 5, gap: 5}}>\n    \n    \n    <Typography>Revenue: <span style={{color: \"green\"}}>{totalRev}</span></Typography>\n\n\n    <Button size=\"small\" onClick={()=>handleFilterByMonth(searchList)} variant='outlined'>This Month Sales</Button>\n    <TextField margin='normal' type=\"text\" label=\"Search\" size='small' onChange={(e)=> setSearchInput(e.target.value)} value={searchInput} /> \n  </Box>\n        <TableContainer component={Paper}>\n    <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n     <TableHead>\n      <TableRow>\n        <TableCell sx={{minWidth: 70}}>Date of Sale</TableCell>\n        <TableCell>Office</TableCell>   \n        <TableCell>Rep</TableCell>\n        <TableCell>Customer name</TableCell>\n        <TableCell>Phone</TableCell>\n        <TableCell>Price</TableCell>\n        <TableCell>Coap</TableCell>\n        <TableCell>Coap Phone</TableCell>\n        <TableCell>Address</TableCell>\n        <TableCell>Approval</TableCell>\n        <TableCell>Bank</TableCell>\n        <TableCell>Payments / Interest</TableCell>\n        <TableCell>DOI</TableCell> \n        <TableCell>Installer</TableCell>\n        <TableCell>Status</TableCell>\n        <TableCell>Actions</TableCell>\n        <TableCell>Latest Comment</TableCell>\n        <TableCell>Updated at</TableCell>\n      </TableRow>\n    </TableHead>\n    <TableBody>\n    \n      \n      {\n        repList.map((eachCust, i)=>{\n          return (\n            <TableRow key={i}>\n              <TableCell>{moment(eachCust.dos).format('MMM DD, YY')}</TableCell>\n              <TableCell>{eachCust.office}</TableCell>\n              <TableCell>{eachCust.user.firstName} {eachCust.user.lastName}</TableCell>\n              <TableCell>{eachCust.firstName} {eachCust.lastName}</TableCell>\n              <TableCell>{eachCust.phone}</TableCell>\n              <TableCell>${eachCust.price}</TableCell>\n              <TableCell>{eachCust.coapFirstName} {eachCust.coapLastName}</TableCell>\n              <TableCell>{eachCust.CoapPhone}</TableCell>\n              <TableCell>{eachCust.address}</TableCell>\n              <TableCell>{eachCust.approval}</TableCell>\n              <TableCell>{eachCust.bank}</TableCell>\n              <TableCell>{eachCust.paymentPlan}</TableCell>\n              <TableCell>{moment(eachCust.doi).format('MMM DD, YY')}</TableCell>\n              <TableCell>{eachCust.installer}</TableCell>   \n              <TableCell>{eachCust.status}</TableCell>\n              <TableCell><Button size=\"small\" variant='contained' color=\"info\" onClick={()=>handleOpen(eachCust._id)}>View Comments</Button></TableCell>\n              <TableCell>{eachCust.comments.length !== 0 ? eachCust.comments[eachCust.comments.length -1].text : 'No comments'}</TableCell>\n              <TableCell>{moment(eachCust.updatedAt).format('dddd LT MM/DD/YY')}</TableCell>\n            </TableRow>\n          )\n        })\n      } \n    </TableBody>\n    </Table>\n   </TableContainer>\n\n  \n      <Box >\n      <Dialog open={open} onClose={handleClose}  >\n        <DialogTitle>Customer: {firstName} {lastName} - Office:{office} </DialogTitle>\n        <DialogContent>\n\n                 {\n              \n                  comments.map((comment, i) =>(\n\n                    <DialogContentText key={i}>{moment(comment.timestamp).format('MMM DD, YY, hh:mm a')}: {comment.text} </DialogContentText>\n           \n\n                  ))\n                  \n                }   \n        \n        </DialogContent>\n\n        <Textarea sx={{minWidth: 400, margin: 2}} minRows={2} onChange={handleChange} placeholder=\"Add comment here..\"/>\n        \n        <Box sx={{maxWidth: 200}}>\n        <Button sx={{ margin: 2}} size='small' variant=\"outlined\" onClick={handleNewComment}>\n        Add Comment\n        </Button>\n        </Box>\n\n\n\n\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </Box>\n    </div>\n  )\n}\n\nexport default RepView"],"mappings":"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"},"metadata":{},"sourceType":"module"}